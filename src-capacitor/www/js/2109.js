"use strict";(globalThis["webpackChunkvnm_static_h5"]=globalThis["webpackChunkvnm_static_h5"]||[]).push([[2109],{48771:(e,a,t)=>{t.r(a),t.d(a,{default:()=>N});var l=t(7454),n=t.n(l),o=t(45254),u=t.n(o),r=t(8445),c=t.n(r),s=(t(10239),t(61758)),i=t(58790),d=t(38734),v=t(88122),p=t(70880),f=t(15868),m=t(85038),b=t.n(m),g=t(41900),_=t(59215),k=t(43436),h=t(23537),y={class:"selection-modal-wrapper"},Y={class:"selection-header"},M={class:"select-cancel"},R=["onClick"],L={class:"table-record"},A={class:"flex-div"},V={class:"select-stage"},B={class:"payout-total"},F={class:"flex-div"},w={class:"row items-center justify-end"},C={class:"row items-center justify-end"};const D={__name:"BetHistoryRecordView",setup:function(e){var a=(0,h.s9)(),t=a.t,l=(0,f.Z)(),o=(0,d.KR)(!1),r=(0,d.KR)(),m=function(e){r.value=e},D=(0,d.KR)(0),K=function(e){D.value=e;var a=e-2;r.value.slideTo(a)},P=function(e){var a=Math.abs(D.value-e);return a?1===a?"almost-active-text":"inactive-text":"active-text"},T=(0,d.KR)(!0),I=(0,d.KR)([]),G=function(){I.value=[],x.value=!1,W.value.clearTable(),j(!0)},x=(0,d.KR)(!1),E="/session/member/gameBetRecord",Q=(0,d.Kh)(b()().format("YYYY-MM-DD")),S=(0,d.Kh)(b()().add(-7,"days").format("YYYY-MM-DD")),$=(0,d.KR)(1),q=(0,d.KR)(0),U=(0,d.KR)([]),N=(0,d.KR)(""),W=(0,d.KR)(),X=(0,d.Kh)({totalBet:0,totalPayout:0}),O=function(){if(!(q.value>$.value))return $.value=1,void(x.value=!0);$.value++,j(!1)},j=function(e){e&&(T.value=!0);var a=N.value?"BBINDY"===N.value.value?"BBIN":N.value.value:"",t={startDate:S,endDate:Q,platform:a,memberId:l.id,size:10,current:$.value};v.api.get(E,{params:t}).then((function(e){var a;q.value=e.data.pages,X.totalBet=e.data.sums.totalBet,X.totalPayout=e.data.sums.totalPayout,(a=I.value).push.apply(a,c()(e.data.records))}))["finally"]((function(){e&&(T.value=!1)}));l.id},z=function(e){if(!e)return"";switch(e){case"IMES":return"IM";case"TCG":return"TCG";case"MGP":return"MG";case"CQ9":return"CQ";case"SABA":return"SABA";case"TFGaming":return"TFGaming ";case"SW":return"SW";case"GPS":return"GPS";case"IA":return"IA ";case"IM":return"IM";case"BBIN":return"BBIN";case"PT":return"PT";case"PG":return"PG";case"AG":return"AG";case"ALLBET":return"ALLBET";default:return e}},H=function(){U.value=[],p.cached.get("LOGGEDPLATFORMS",(function(){return v.api.get("/session/loggedInPlatform").then((function(e){return e}))})).then((function(e){U.value.push({label:t("lang.all_platform"),value:""}),k.each(e,(function(e,a){var t={label:z(e.name),value:e.code};U.value.push(t)}))}))},Z=[{key:"betTime",label:t("lang.col_bettime")},{key:"platform",label:t("lang.col_platform")},{key:"bet",label:t("lang.col_bet")},{key:"payout",label:t("lang.col_payout")},{key:"gameType",label:t("lang.col_gametype")},{key:"status",label:t("lang.col_betstatus")}];return(0,s.sV)(u()(n()().mark((function e(){var a,t,l;return n()().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,H();case 2:return a=b()(S).format("MM"),t=b()(Q).format("MM"),a!==t&&(l=b()(Q).endOf("month").format("YYYY-MM-DD"),S=b()(l).startOf("month").format("YYYY-MM-DD")),e.next=7,j(!0);case 7:case"end":return e.stop()}}),e)})))),function(e,a){var l=(0,s.g2)("q-dialog"),n=(0,s.g2)("q-select"),u=(0,s.g2)("q-btn"),r=(0,s.g2)("q-date"),c=(0,s.g2)("q-popup-proxy"),v=(0,s.g2)("q-icon"),p=(0,s.g2)("q-input"),f=(0,s.gN)("close-popup");return(0,s.uX)(),(0,s.CE)(s.FK,null,[(0,s.bF)(l,{class:"selection-modal",modelValue:o.value,"onUpdate:modelValue":a[1]||(a[1]=function(e){return o.value=e}),position:"bottom"},{default:(0,s.k6)((function(){return[(0,s.Lk)("div",y,[(0,s.Lk)("div",Y,[(0,s.bo)(((0,s.uX)(),(0,s.CE)("div",M,[(0,s.eW)((0,i.v_)(e.$t("lang.col_cancel")),1)])),[[f]]),(0,s.bo)(((0,s.uX)(),(0,s.CE)("div",{class:"select-confirm",onClick:a[0]||(a[0]=function(e){return G()})},[(0,s.eW)((0,i.v_)(e.$t("lang.col_confirm")),1)])),[[f]])]),(0,s.bF)((0,d.R1)(_.RC),{class:"swiper-container","slides-per-view":5,loop:!1,pagination:!1,direction:"vertical",onSwiper:m},{default:(0,s.k6)((function(){return[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(U.value,(function(e,a){return(0,s.uX)(),(0,s.Wv)((0,d.R1)(_.qr),{key:"".concat(e,"-").concat(a),class:"swiper-slide"},{default:(0,s.k6)((function(){return[(0,s.Lk)("div",{class:"slide-item",onClick:function(e){return K(a)}},[(0,s.Lk)("div",{class:(0,i.C4)(P(a))},(0,i.v_)(e.label),3)],8,R)]})),_:2},1024)})),128))]})),_:1})])]})),_:1},8,["modelValue"]),(0,s.Lk)("div",L,[(0,s.Lk)("div",A,[(0,s.Lk)("span",V,(0,i.v_)(e.$t("lang.col_selectplat")),1),(0,s.bF)(n,{clearable:"",rounded:"",outlined:"",dense:"",color:"primary",style:{width:"320px",margin:"10px auto 8px",color:"#000"},modelValue:N.value,"onUpdate:modelValue":[a[2]||(a[2]=function(e){return N.value=e}),G],options:U.value,placeholder:(0,d.R1)(t)("lang.col_selectplathol"),"map-options":"",onClear:a[3]||(a[3]=function(e){return N.value=""})},null,8,["modelValue","options","placeholder"]),(0,s.Lk)("div",B,[(0,s.Lk)("div",null,(0,i.v_)(e.$t("lang.col_totalbet"))+(0,i.v_)(X.totalBet),1),(0,s.Lk)("div",null,(0,i.v_)(e.$t("lang.col_totalpayout"))+(0,i.v_)(X.totalPayout),1)])]),(0,s.Lk)("div",F,[(0,s.Lk)("span",null,(0,i.v_)(e.$t("lang.col_start")),1),(0,s.bF)(p,{rounded:"",outlined:"",dense:"",modelValue:(0,d.R1)(S),"onUpdate:modelValue":a[5]||(a[5]=function(e){return(0,d.i9)(S)?S.value=e:S=e})},{append:(0,s.k6)((function(){return[(0,s.bF)(v,{name:"event",class:"cursor-pointer"},{default:(0,s.k6)((function(){return[(0,s.bF)(c,{cover:"","transition-show":"scale","transition-hide":"scale"},{default:(0,s.k6)((function(){return[(0,s.bF)(r,{modelValue:(0,d.R1)(S),"onUpdate:modelValue":[a[4]||(a[4]=function(e){return(0,d.i9)(S)?S.value=e:S=e}),G],mask:"YYYY-MM-DD"},{default:(0,s.k6)((function(){return[(0,s.Lk)("div",w,[(0,s.bo)((0,s.bF)(u,{label:e.$t("lang.col_close"),color:"primary",flat:""},null,8,["label"]),[[f]])])]})),_:1},8,["modelValue"])]})),_:1})]})),_:1})]})),_:1},8,["modelValue"]),(0,s.Lk)("span",null,(0,i.v_)(e.$t("lang.col_end")),1),(0,s.bF)(p,{rounded:"",outlined:"",dense:"",modelValue:(0,d.R1)(Q),"onUpdate:modelValue":a[7]||(a[7]=function(e){return(0,d.i9)(Q)?Q.value=e:Q=e})},{append:(0,s.k6)((function(){return[(0,s.bF)(v,{name:"event",class:"cursor-pointer"},{default:(0,s.k6)((function(){return[(0,s.bF)(c,{cover:"","transition-show":"scale","transition-hide":"scale"},{default:(0,s.k6)((function(){return[(0,s.bF)(r,{modelValue:(0,d.R1)(Q),"onUpdate:modelValue":[a[6]||(a[6]=function(e){return(0,d.i9)(Q)?Q.value=e:Q=e}),G],mask:"YYYY-MM-DD"},{default:(0,s.k6)((function(){return[(0,s.Lk)("div",C,[(0,s.bo)((0,s.bF)(u,{label:e.$t("lang.col_close"),color:"primary",flat:""},null,8,["label"]),[[f]])])]})),_:1},8,["modelValue"])]})),_:1})]})),_:1})]})),_:1},8,["modelValue"])]),(0,s.bF)(g.A,{ref_key:"recordRef",ref:W,recordType:"bethistory",loading:T.value,list:I.value,headers:Z,onLoadnewdata:O,isEnded:x.value},null,8,["loading","list","isEnded"])])],64)}}};var K=t(57201),P=t(833),T=t(68926),I=t(24609),G=t(87308),x=t(58255),E=t(69001),Q=t(97569),S=t(79197),$=t(98582),q=t.n($);const U=D,N=U;q()(D,"components",{QDialog:K.A,QSelect:P.A,QInput:T.A,QIcon:I.A,QPopupProxy:G.A,QDate:x.A,QBtn:E.A,QCard:Q.A}),q()(D,"directives",{ClosePopup:S.A})}}]);