"use strict";(globalThis["webpackChunkvnm_static_h5"]=globalThis["webpackChunkvnm_static_h5"]||[]).push([[1591],{41591:(e,n,l)=>{l.r(n),l.d(n,{default:()=>Z});l(10239);var t=l(61758),o=l(58790),a=l(89136),u=l.n(a),c=l(39834),r=l.n(c),s=l(38734),i=l(88122),d=l(43710),m=l(60455),f=l(15868),b={class:"headers"},p=(0,t.Lk)("div",{class:"black-titles"},"验证码",-1),v={class:"contents"},k=["src"],h={class:"headers"},g=(0,t.Lk)("div",{class:"black-titles"},"信息",-1),_=(0,t.Lk)("div",{class:"contents"},[(0,t.Lk)("img",{style:{width:"2.5rem"},src:u()}),(0,t.Lk)("p",null,"操作成功，请查看手机验证码！")],-1),y={class:"headers"},F=(0,t.Lk)("div",{class:"black-titles"},"系统提示",-1),C={class:"contents"},L=(0,t.Lk)("img",{style:{width:"2.5rem"},src:r()},null,-1),V={class:"bind-wrapper"},w=(0,t.Lk)("em",null,"*",-1),K=(0,t.Lk)("em",null,"*",-1),R={class:"type-toggle"},A=["src"],q=(0,t.Lk)("em",null,"*",-1),I={class:"category-toggle"},x=(0,t.Lk)("em",null,"*",-1),Q=(0,t.Lk)("em",null,"*",-1),E=(0,t.Lk)("div",{class:"note"},"温馨提示：若持卡人姓名不符可联系在线客服更正信息，感谢您的支持与 理解！",-1);const N={__name:"BindAlipayView",setup:function(e){var n=(0,s.KR)(0),a=function(e){n.value=e},u=(0,s.KR)(["ALIPAY"]),c=(0,s.KR)(0),r=function(e){c.value=e},N=l(54760),U=(0,d.A)(),W=(0,f.Z)(),X=(0,m.rd)(),z="https://files.fbok59j8xi.com/payment/",P=(0,s.KR)(),T=(0,s.KR)(),B=(0,s.KR)(),j=(0,s.Kh)({bankId:void 0,cardNumber:"",cardAccount:W.realName,cardAddress:"",telephone:W.phone,smsCode:"",smsCodeId:""}),D=function(e){return e.length>10&&e.length<21||"长度应为11到20个字符"},M=(0,s.KR)(""),S=(0,s.KR)(""),Y=(0,s.KR)(""),Z=(0,s.KR)(),G=function(){O.value=!1,Y.value="",i.api.get("/member/verificationCode").then((function(e){0===e.code&&(M.value="data:image/png;base64,"+e.data.img,S.value=e.data.id)}))["catch"]((function(e){console.log(e)}))},H=(0,s.KR)(!1),J=function(){G(),H.value=!0},O=(0,s.KR)(!1),$=(0,s.KR)(!1),ee=(0,s.KR)(!1),ne=(0,s.KR)(""),le=function(){Z.value.validate(),Z.value.hasError||i.api.post("/session/sendSms",N.stringify({captchaCode:Y.value,codeId:S.value})).then((function(e){0===e.code?(O.value=!0,j.smsCode="",j.smsCodeId=e.data.codeId,$.value=!0):(ne.value=e.message,ee.value=!0),H.value=!1}))["catch"]((function(){G()}))},te=(0,s.KR)([]),oe=function(){W.getMemberInfo().then((function(){W.realName?W.phone?i.api.get("/session/withdraw/card").then((function(e){if(0===e.code)for(var n=0,l=e.data.length;n<l;n++){var t=e.data[n],o=t.bankCode;78===o&&te.value.push(t)}}))["catch"]((function(e){console.log("error",e)})):(U.notify({color:"negative",position:"top",message:"请输入您的电话号码",icon:"report_problem"}),X.push("/account/verifyTelephone")):(U.notify({color:"negative",position:"top",message:"请输入您的真实姓名",icon:"report_problem"}),X.push("/account/personal"))}))},ae=function(){P.value.validate(),T.value.validate(),B.value?B.value.validate():U.notify({color:"negative",position:"top",message:"请点击获取验证码，并输入您的注册手机验证",icon:"report_problem"}),P.value.hasError||T.value.hasError||B.value.hasError||i.api.post("/session/bankCard",N.stringify(j)).then((function(e){0===e.code&&U.notify({color:"positive",position:"top",message:"已添加银行卡",icon:"check_circle_outline"})}))["catch"]((function(e){console.log("error",e)}))};return(0,t.sV)((function(){oe()})),function(e,l){var s=(0,t.g2)("q-btn"),i=(0,t.g2)("q-input"),d=(0,t.g2)("q-card-actions"),m=(0,t.g2)("q-card"),f=(0,t.g2)("q-dialog"),N=(0,t.g2)("q-label"),U=(0,t.g2)("q-form"),W=(0,t.g2)("q-page"),X=(0,t.gN)("close-popup");return(0,t.uX)(),(0,t.CE)(t.FK,null,[(0,t.bF)(f,{class:"modal-common-div",modelValue:H.value,"onUpdate:modelValue":l[3]||(l[3]=function(e){return H.value=e})},{default:(0,t.k6)((function(){return[(0,t.bF)(m,{style:{width:"100%"},class:"modalcontent"},{default:(0,t.k6)((function(){return[(0,t.Lk)("div",b,[p,(0,t.bo)((0,t.bF)(s,{class:"color-font-1",flat:"",round:"",dense:"",icon:"close"},null,512),[[X]])]),(0,t.Lk)("div",v,[(0,t.bF)(i,{ref_key:"innerCaptchaRef",ref:Z,modelValue:Y.value,"onUpdate:modelValue":l[1]||(l[1]=function(e){return Y.value=e}),placeholder:"验证码",maxlength:"4",rules:[function(e){return e&&e.length>0||"请输入验证码"},function(e){return e&&4===e.length||"验证码必须为4个字符串"}]},{append:(0,t.k6)((function(){return[(0,t.Lk)("img",{src:M.value,title:"点击刷新验证码",style:{"margin-top":"6px",cursor:"pointer"},onClick:l[0]||(l[0]=function(e){return G()})},null,8,k)]})),_:1},8,["modelValue","rules"])]),(0,t.bF)(d,{style:{margin:"0 auto"},align:"center",class:"bg-white text-teal"},{default:(0,t.k6)((function(){return[(0,t.bF)(s,{style:{width:"100%"},class:"common-md-btn",flat:"",label:"发送验证码",onClick:l[2]||(l[2]=function(e){return le()})})]})),_:1})]})),_:1})]})),_:1},8,["modelValue"]),(0,t.bF)(f,{class:"modal-common-div",modelValue:$.value,"onUpdate:modelValue":l[4]||(l[4]=function(e){return $.value=e})},{default:(0,t.k6)((function(){return[(0,t.bF)(m,{style:{width:"100%"},class:"modalcontent"},{default:(0,t.k6)((function(){return[(0,t.Lk)("div",h,[g,(0,t.bo)((0,t.bF)(s,{class:"color-font-1",flat:"",round:"",dense:"",icon:"close"},null,512),[[X]])]),_,(0,t.bF)(d,{style:{width:"100%"},align:"center",class:"bg-white text-teal"},{default:(0,t.k6)((function(){return[(0,t.bo)((0,t.bF)(s,{class:"common-md-btn",flat:"",label:"确定"},null,512),[[X]])]})),_:1})]})),_:1})]})),_:1},8,["modelValue"]),(0,t.bF)(f,{class:"modal-common-div",modelValue:ee.value,"onUpdate:modelValue":l[5]||(l[5]=function(e){return ee.value=e})},{default:(0,t.k6)((function(){return[(0,t.bF)(m,{style:{width:"100%"},class:"modalcontent"},{default:(0,t.k6)((function(){return[(0,t.Lk)("div",y,[F,(0,t.bo)((0,t.bF)(s,{class:"color-font-1",flat:"",round:"",dense:"",icon:"close"},null,512),[[X]])]),(0,t.Lk)("div",C,[L,(0,t.Lk)("p",null,(0,o.v_)(ne.value||"验证码校验失败，请刷新"),1)]),(0,t.bF)(d,{style:{width:"100%"},align:"center",class:"bg-white text-teal"},{default:(0,t.k6)((function(){return[(0,t.bo)((0,t.bF)(s,{class:"common-md-btn",flat:"",label:"确定"},null,512),[[X]])]})),_:1})]})),_:1})]})),_:1},8,["modelValue"]),(0,t.bF)(W,{class:"bind-container"},{default:(0,t.k6)((function(){return[(0,t.Lk)("div",V,[(0,t.bF)(U,{class:"bind-item q-my-sm"},{default:(0,t.k6)((function(){return[(0,t.bF)(N,null,{default:(0,t.k6)((function(){return[(0,t.eW)(" 支付宝号 "),w]})),_:1}),(0,t.bF)(i,{ref_key:"cardNumberRef",ref:T,type:"number",standout:"",modelValue:j.cardNumber,"onUpdate:modelValue":l[6]||(l[6]=function(e){return j.cardNumber=e}),class:"q-pb-xs","hide-bottom-space":"",label:"请输入支付宝号","lazy-rules":"",clearable:"",rules:[function(e){return e&&e.length>0||"请输入支付宝号"},D]},null,8,["modelValue","rules"]),(0,t.bF)(N,null,{default:(0,t.k6)((function(){return[(0,t.eW)(" 支付宝种类 "),K]})),_:1}),(0,t.Lk)("div",R,[((0,t.uX)(!0),(0,t.CE)(t.FK,null,(0,t.pI)(te.value,(function(e,l){return(0,t.uX)(),(0,t.Wv)(s,{key:"".concat(e,"-").concat(l),class:(0,o.C4)("".concat(n.value===l?"common-sm-btn":"common-sm-white-btn"," content")),onClick:function(e){return a(l)}},{default:(0,t.k6)((function(){return[(0,t.Lk)("img",{src:z+e.bankIcon,alt:""},null,8,A),(0,t.Lk)("div",null,(0,o.v_)(e.name),1)]})),_:2},1032,["class","onClick"])})),128))]),(0,t.bF)(N,null,{default:(0,t.k6)((function(){return[(0,t.eW)(" 协议 "),q]})),_:1}),(0,t.Lk)("div",I,[((0,t.uX)(!0),(0,t.CE)(t.FK,null,(0,t.pI)(u.value,(function(e,n){return(0,t.uX)(),(0,t.Wv)(s,{key:"".concat(e,"-").concat(n),class:(0,o.C4)("".concat(c.value===n?"common-sm-btn":"common-sm-white-btn"," content")),onClick:function(e){return r(n)}},{default:(0,t.k6)((function(){return[(0,t.Lk)("div",null,(0,o.v_)(e),1)]})),_:2},1032,["class","onClick"])})),128))]),(0,t.bF)(N,null,{default:(0,t.k6)((function(){return[(0,t.eW)(" 手机号 "),x]})),_:1}),(0,t.bF)(i,{standout:"",modelValue:j.telephone,"onUpdate:modelValue":l[8]||(l[8]=function(e){return j.telephone=e}),class:"q-pb-xs","hide-bottom-space":"",label:"请输入您绑定的手机号","lazy-rules":"",clearable:"",readonly:""},{append:(0,t.k6)((function(){return[(0,t.bF)(s,{onClick:l[7]||(l[7]=function(e){return J()}),type:"submit",class:"common-sm-btn bottom-btn get-otp-btn",label:"获取验证码",color:"brightbtn",rounded:""})]})),_:1},8,["modelValue"]),O.value?((0,t.uX)(),(0,t.CE)(t.FK,{key:0},[(0,t.bF)(N,null,{default:(0,t.k6)((function(){return[(0,t.eW)(" 验证码 "),Q]})),_:1}),(0,t.bF)(i,{ref_key:"phoneVerificationRef",ref:B,standout:"",modelValue:j.smsCode,"onUpdate:modelValue":l[9]||(l[9]=function(e){return j.smsCode=e}),class:"q-pb-xs","hide-bottom-space":"",label:"请输入您的注册手机验证","lazy-rules":"",clearable:"",maxlength:"6",rules:[function(e){return e&&e.length>3||"请输入您的注册手机验证"}]},null,8,["modelValue","rules"])],64)):(0,t.Q3)("",!0)]})),_:1}),E,(0,t.bF)(s,{class:"common-large-btn",label:"提交",width:"100%",style:{width:"100%"},onClick:l[10]||(l[10]=function(e){return ae()})})])]})),_:1})],64)}}};var U=l(57201),W=l(97569),X=l(69001),z=l(68926),P=l(16334),T=l(33177),B=l(21565),j=l(51225),D=l(79197),M=l(98582),S=l.n(M);const Y=N,Z=Y;S()(N,"components",{QDialog:U.A,QCard:W.A,QBtn:X.A,QInput:z.A,QCardActions:P.A,QPage:T.A,QForm:B.A,QField:j.A}),S()(N,"directives",{ClosePopup:D.A})}}]);