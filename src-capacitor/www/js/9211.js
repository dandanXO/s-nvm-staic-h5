"use strict";(globalThis["webpackChunkvnm_static_h5"]=globalThis["webpackChunkvnm_static_h5"]||[]).push([[9211],{19211:(e,n,t)=>{t.r(n),t.d(n,{default:()=>G});t(10239);var l=t(61758),a=t(58790),o=t(29104),c=t(89136),u=t.n(c),r=t(39834),s=t.n(r),i=t(38734),d=t(88122),m=t(43710),b=t(60455),f=t(15868),_=t(97772),p={class:"headers"},v={class:"black-titles"},g={class:"contents"},h=["src","title"],k={class:"headers"},y={class:"black-titles"},C={class:"contents"},F=(0,l.Lk)("img",{style:{width:"2.5rem"},src:u()},null,-1),w={class:"headers"},L={class:"black-titles"},$={class:"contents"},R=(0,l.Lk)("img",{style:{width:"2.5rem"},src:s()},null,-1),K={class:"bind-wrapper"},V=(0,l.Lk)("em",null,"*",-1),A=(0,l.Lk)("em",null,"*",-1),q={class:"type-toggle"},I=["src"],x=(0,l.Lk)("em",null,"*",-1),E={class:"category-toggle"},Q=(0,l.Lk)("em",null,"*",-1),T=(0,l.Lk)("em",null,"*",-1),U={class:"note"};const N={__name:"BindCryptoView",setup:function(e){var n=(0,i.KR)(0),c=function(e){n.value=e,B.bankId=ue.value[e].id},u=(0,i.KR)(["TRC20"]),r=(0,i.KR)(0),s=function(e){r.value=e},N=t(54760),W=(0,m.A)(),X=(0,f.Z)(),j=(0,b.rd)(),D="https://files.fbok59j8xi.com/payment/",z=(0,i.KR)(),P=(0,i.KR)(),S=(0,i.KR)(),B=(0,i.Kh)({bankId:void 0,cardNumber:"",cardAccount:X.realName,cardAddress:"",telephone:X.phone,smsCode:"",smsCodeId:""}),Z=function(e){return e.length>33&&e.length<37||(0,_.t)("lang.bd_length_between_34_36")},M=function(e){var n=/^[a-zA-Z0-9]+$/;return n.test(e)||(0,_.t)("lang.bd_please_enter_virtual_currency_acc")},O=(0,i.KR)(""),Y=(0,i.KR)(""),G=(0,i.KR)(""),H=(0,i.KR)(),J=function(){te.value=!1,G.value="",d.api.get("/member/verificationCode").then((function(e){0===e.code&&(O.value="data:image/png;base64,"+e.data.img,Y.value=e.data.id)}))["catch"]((function(e){console.log(e)}))},ee=(0,i.KR)(!1),ne=function(){J(),ee.value=!0},te=(0,i.KR)(!1),le=(0,i.KR)(!1),ae=(0,i.KR)(!1),oe=(0,i.KR)(""),ce=function(){H.value.validate(),H.value.hasError||d.api.post("/session/sendSms",N.stringify({captchaCode:G.value,codeId:Y.value})).then((function(e){0===e.code?(te.value=!0,B.smsCode="",B.smsCodeId=e.data.codeId,le.value=!0):(oe.value=e.message,ae.value=!0),ee.value=!1}))["catch"]((function(){J()}))},ue=(0,i.KR)([]),re=function(){X.getMemberInfo().then((function(){X.realName?X.phone?d.api.get("/session/withdraw/card").then((function(e){if(0===e.code){for(var n=0,t=e.data.length;n<t;n++){var l=e.data[n],a=l.bankType;"CRYPTO"===a&&ue.value.push(l)}B.bankId=ue.value[0].id}}))["catch"]((function(e){console.log("error",e)})):(W.notify({color:"negative",position:"top",message:(0,_.t)("lang.bd_please_enter_phone_number"),icon:"report_problem"}),j.push("/account/verifyTelephone")):(W.notify({color:"negative",position:"top",message:(0,_.t)("lang.bd_please_enter_real_name"),icon:"report_problem"}),j.push("/account/personal"))}))},se=function(){z.value&&z.value.validate(),P.value&&P.value.validate(),te.value?S.value&&S.value.validate():W.notify({color:"negative",position:"top",message:(0,_.t)("lang.bd_click_verification"),icon:"report_problem"}),z.value&&z.value.hasError||P.value&&P.value.hasError||S.value&&S.value.hasError||d.api.post("/session/bankCard",N.stringify(B)).then((function(e){0===e.code&&(W.notify({color:"positive",position:"top",message:"已添加银行卡",icon:"check_circle_outline"}),j.push("/account/withdraw"))}))["catch"]((function(e){console.log("error",e)}))},ie=function(){document.activeElement&&"input"===document.activeElement.tagName.toLowerCase()||ne()};return(0,l.sV)((function(){re()})),function(e,t){var i=(0,l.g2)("q-btn"),d=(0,l.g2)("q-input"),m=(0,l.g2)("q-card-actions"),b=(0,l.g2)("q-card"),f=(0,l.g2)("q-dialog"),_=(0,l.g2)("q-label"),N=(0,l.g2)("q-form"),W=(0,l.g2)("q-page"),X=(0,l.gN)("close-popup");return(0,l.uX)(),(0,l.CE)(l.FK,null,[(0,l.bF)(f,{class:"modal-common-div",modelValue:ee.value,"onUpdate:modelValue":t[4]||(t[4]=function(e){return ee.value=e})},{default:(0,l.k6)((function(){return[(0,l.bF)(b,{style:{width:"100%"},class:"modalcontent"},{default:(0,l.k6)((function(){return[(0,l.Lk)("div",p,[(0,l.Lk)("div",v,(0,a.v_)(e.$t("lang.captcha_code")),1),(0,l.bo)((0,l.bF)(i,{class:"color-font-1",flat:"",round:"",dense:"",icon:"close"},null,512),[[X]])]),(0,l.Lk)("div",g,[(0,l.bF)(d,{ref_key:"innerCaptchaRef",ref:H,modelValue:G.value,"onUpdate:modelValue":t[1]||(t[1]=function(e){return G.value=e}),placeholder:e.$t("lang.captcha_code"),maxlength:"4",rules:[function(n){return n&&n.length>0||e.$t("lang.enter_captcha_code")},function(n){return n&&4===n.length||e.$t("lang.captcha_code_must_4")}],onKeydown:t[2]||(t[2]=(0,o.jR)((function(e){return ce()}),["enter"]))},{append:(0,l.k6)((function(){return[(0,l.Lk)("img",{src:O.value,title:e.$t("lang.captcha_refresh"),style:{"margin-top":"6px",cursor:"pointer"},onClick:t[0]||(t[0]=function(e){return J()})},null,8,h)]})),_:1},8,["modelValue","placeholder","rules"])]),(0,l.bF)(m,{style:{margin:"0 auto"},align:"center",class:"bg-white text-teal"},{default:(0,l.k6)((function(){return[(0,l.bF)(i,{style:{width:"100%"},class:"common-md-btn",flat:"",label:e.$t("lang.verification_code_send"),onClick:t[3]||(t[3]=function(e){return ce()})},null,8,["label"])]})),_:1})]})),_:1})]})),_:1},8,["modelValue"]),(0,l.bF)(f,{class:"modal-common-div",modelValue:le.value,"onUpdate:modelValue":t[5]||(t[5]=function(e){return le.value=e})},{default:(0,l.k6)((function(){return[(0,l.bF)(b,{style:{width:"100%"},class:"modalcontent"},{default:(0,l.k6)((function(){return[(0,l.Lk)("div",k,[(0,l.Lk)("div",y,(0,a.v_)(e.$t("lang.system_hint")),1),(0,l.bo)((0,l.bF)(i,{class:"color-font-1",flat:"",round:"",dense:"",icon:"close"},null,512),[[X]])]),(0,l.Lk)("div",C,[F,(0,l.Lk)("p",null,(0,a.v_)(e.$t("lang.system_operation_success")),1)]),(0,l.bF)(m,{style:{width:"100%"},align:"center",class:"bg-white text-teal"},{default:(0,l.k6)((function(){return[(0,l.bo)((0,l.bF)(i,{class:"common-md-btn",flat:"",label:e.$t("lang.system_confirm")},null,8,["label"]),[[X]])]})),_:1})]})),_:1})]})),_:1},8,["modelValue"]),(0,l.bF)(f,{class:"modal-common-div",modelValue:ae.value,"onUpdate:modelValue":t[6]||(t[6]=function(e){return ae.value=e})},{default:(0,l.k6)((function(){return[(0,l.bF)(b,{style:{width:"100%"},class:"modalcontent"},{default:(0,l.k6)((function(){return[(0,l.Lk)("div",w,[(0,l.Lk)("div",L,(0,a.v_)(e.$t("lang.system_hint")),1),(0,l.bo)((0,l.bF)(i,{class:"color-font-1",flat:"",round:"",dense:"",icon:"close"},null,512),[[X]])]),(0,l.Lk)("div",$,[R,(0,l.Lk)("p",null,(0,a.v_)(oe.value||e.$t("lang.system_verify_failed")),1)]),(0,l.bF)(m,{style:{width:"100%"},align:"center",class:"bg-white text-teal"},{default:(0,l.k6)((function(){return[(0,l.bo)((0,l.bF)(i,{class:"common-md-btn",flat:"",label:e.$t("lang.system_confirm")},null,8,["label"]),[[X]])]})),_:1})]})),_:1})]})),_:1},8,["modelValue"]),(0,l.bF)(W,{class:"bind-container"},{default:(0,l.k6)((function(){return[(0,l.Lk)("div",K,[(0,l.bF)(N,{class:"bind-item q-my-sm"},{default:(0,l.k6)((function(){return[(0,l.bF)(_,null,{default:(0,l.k6)((function(){return[(0,l.eW)((0,a.v_)(e.$t("lang.bd_virtual_currency_account"))+" ",1),V]})),_:1}),(0,l.bF)(d,{ref_key:"cardNumberRef",ref:P,type:"text",standout:"",modelValue:B.cardNumber,"onUpdate:modelValue":t[7]||(t[7]=function(e){return B.cardNumber=e}),class:"q-pb-xs","hide-bottom-space":"",placeholder:e.$t("lang.bd_please_enter_virtual_currency_acc"),clearable:"",rules:[function(n){return n&&n.length>0||e.$t("lang.bd_please_enter_virtual_currency_acc")},Z,M]},null,8,["modelValue","placeholder","rules"]),(0,l.bF)(_,null,{default:(0,l.k6)((function(){return[(0,l.eW)((0,a.v_)(e.$t("lang.bd_digital_currency"))+" ",1),A]})),_:1}),(0,l.Lk)("div",q,[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(ue.value,(function(e,t){return(0,l.uX)(),(0,l.Wv)(i,{key:"".concat(e,"-").concat(t),class:(0,a.C4)("".concat(n.value===t?"common-sm-btn":"common-sm-white-btn"," content")),onClick:function(e){return c(t)}},{default:(0,l.k6)((function(){return[(0,l.Lk)("img",{src:D+e.bankIcon,alt:""},null,8,I),(0,l.Lk)("div",null,(0,a.v_)("USDTTRC"===e.name?"USDT":e.name),1)]})),_:2},1032,["class","onClick"])})),128))]),(0,l.bF)(_,null,{default:(0,l.k6)((function(){return[(0,l.eW)((0,a.v_)(e.$t("lang.bd_protocol"))+" ",1),x]})),_:1}),(0,l.Lk)("div",E,[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(u.value,(function(e,n){return(0,l.uX)(),(0,l.Wv)(i,{key:"".concat(e,"-").concat(n),class:(0,a.C4)("".concat(r.value===n?"common-sm-btn":"common-sm-white-btn"," content")),onClick:function(e){return s(n)}},{default:(0,l.k6)((function(){return[(0,l.Lk)("div",null,(0,a.v_)(e),1)]})),_:2},1032,["class","onClick"])})),128))]),(0,l.bF)(_,null,{default:(0,l.k6)((function(){return[(0,l.eW)((0,a.v_)(e.$t("lang.bd_phone_number"))+" ",1),Q]})),_:1}),(0,l.bF)(d,{standout:"",modelValue:B.telephone,"onUpdate:modelValue":t[9]||(t[9]=function(e){return B.telephone=e}),class:"q-pb-xs","hide-bottom-space":"",placeholder:e.$t("lang.bd_please_enter_phone_number"),"lazy-rules":"",clearable:"",readonly:""},{append:(0,l.k6)((function(){return[(0,l.bF)(i,{onClick:t[8]||(t[8]=function(e){return ne()}),type:"submit",class:"common-sm-btn bottom-btn get-otp-btn",label:e.$t("lang.bd_get_otp"),color:"brightbtn",rounded:""},null,8,["label"])]})),_:1},8,["modelValue","placeholder"]),te.value?((0,l.uX)(),(0,l.CE)(l.FK,{key:0},[(0,l.bF)(_,null,{default:(0,l.k6)((function(){return[(0,l.eW)((0,a.v_)(e.$t("lang.bd_otp_code"))+" ",1),T]})),_:1}),(0,l.bF)(d,{ref_key:"phoneVerificationRef",ref:S,standout:"",modelValue:B.smsCode,"onUpdate:modelValue":t[10]||(t[10]=function(e){return B.smsCode=e}),class:"q-pb-xs","hide-bottom-space":"",placeholder:e.$t("lang.bd_please_enter_otp"),"lazy-rules":"",clearable:"",maxlength:"6",rules:[function(n){return n&&n.length>3||e.$t("lang.bd_please_enter_otp")}],onKeydown:[(0,o.jR)((0,o.D$)(ie,["prevent"]),["enter"]),t[11]||(t[11]=(0,o.jR)((function(e){return se()}),["enter"]))]},null,8,["modelValue","placeholder","rules","onKeydown"])],64)):(0,l.Q3)("",!0)]})),_:1}),(0,l.Lk)("div",U,(0,a.v_)(e.$t("lang.bd_reminder_name_issue")),1),(0,l.bF)(i,{class:"common-large-btn",label:e.$t("lang.bd_submit"),width:"100%",style:{width:"100%"},onClick:t[12]||(t[12]=function(e){return se()})},null,8,["label"])])]})),_:1})],64)}}};var W=t(57201),X=t(97569),j=t(69001),D=t(68926),z=t(16334),P=t(33177),S=t(21565),B=t(51225),Z=t(79197),M=t(98582),O=t.n(M);const Y=N,G=Y;O()(N,"components",{QDialog:W.A,QCard:X.A,QBtn:j.A,QInput:D.A,QCardActions:z.A,QPage:P.A,QForm:S.A,QField:B.A}),O()(N,"directives",{ClosePopup:Z.A})}}]);