"use strict";(globalThis["webpackChunkvnm_static_h5"]=globalThis["webpackChunkvnm_static_h5"]||[]).push([[8428],{77176:(e,n,t)=>{t.r(n),t.d(n,{default:()=>$});var o=t(61758),a=t(29104),l=t(58790),c=t(89504),i=t.n(c),r=function(e){return(0,o.Qi)("data-v-1658cfd8"),e=e(),(0,o.jt)(),e},s={key:0,class:"loading-div"},u={class:"pageitem"},d={class:"topbar"},f={class:"search"},g=r((function(){return(0,o.Lk)("img",{src:i()},null,-1)})),p={class:"grid",style:{"padding-bottom":"20px"}},m=["data-id","onClick"],v=["src"],h={class:"slot-name"};function k(e,n,t,c,i,r){var k=(0,o.g2)("q-spinner-hourglass"),y=(0,o.g2)("q-btn"),b=(0,o.g2)("q-input"),L=(0,o.g2)("q-form"),A=(0,o.g2)("q-img"),S=(0,o.g2)("q-list"),K=(0,o.g2)("BacktoTop"),P=(0,o.g2)("q-scroll-observer"),T=(0,o.g2)("q-scroll-area"),_=(0,o.g2)("GameModal"),C=(0,o.g2)("q-page"),R=(0,o.gN)("intersection");return(0,o.uX)(),(0,o.Wv)(C,null,{default:(0,o.k6)((function(){return[e.isLoading?((0,o.uX)(),(0,o.CE)("div",s,[(0,o.bF)(k,{color:e.ui.themeColor,size:"8em"},null,8,["color"])])):(0,o.Q3)("",!0),(0,o.Lk)("div",u,[(0,o.Lk)("div",d,[(0,o.Lk)("div",f,[(0,o.bF)(L,{onSubmit:e.searchList},{default:(0,o.k6)((function(){return[(0,o.bF)(b,{class:"search-input","bg-color":"white",filled:"",standout:"",modelValue:e.gamePage.searchKey,"onUpdate:modelValue":[n[0]||(n[0]=function(n){return e.gamePage.searchKey=n}),e.searchList],label:e.$t("lang.slot_search")},{append:(0,o.k6)((function(){return[(0,o.bF)(y,{class:"search-btn",type:"submit",push:"",size:"md",round:""},{default:(0,o.k6)((function(){return[g]})),_:1})]})),_:1},8,["modelValue","label","onUpdate:modelValue"])]})),_:1},8,["onSubmit"])])]),e.isLoading?(0,o.Q3)("",!0):((0,o.uX)(),(0,o.Wv)(T,{key:0,ref:"scrollSlotRef",style:{height:"calc(100% - 110px)"}},{default:(0,o.k6)((function(){return[(0,o.Lk)("div",p,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(e.gamePage.gameList,(function(n,t){return(0,o.bo)(((0,o.uX)(),(0,o.CE)("div",{class:"grid-item",key:t,"data-id":t,onClick:function(t){return e.openGame(n.name,n.code,e.selectedCat.status)}},[(0,o.bF)(a.eB,{name:"in-view"},{default:(0,o.k6)((function(){return[(0,o.bF)(S,{class:"q-col-gutter-none"},{default:(0,o.k6)((function(){return[(0,o.bF)(A,{loading:"lazy",src:n.icon,"placeholder-src":n["default"],fit:"cover","spinner-color":"white",position:"50% 20%",style:{"border-radius":"10px",overflow:"hidden"},imgClass:"PG"===e.selectedCat.code?"zoomin":""},{loading:(0,o.k6)((function(){return[(0,o.Lk)("img",{src:n["default"],style:{}},null,8,v)]})),_:2},1032,["src","placeholder-src","imgClass"]),(0,o.Lk)("div",h,(0,l.v_)(n.name),1)]})),_:2},1024)]})),_:2},1024)],8,m)),[[R,e.onIntersection]])})),128))]),e.scrollPosition.top>400?((0,o.uX)(),(0,o.Wv)(K,{key:0,onClick:e.scrollToTop},null,8,["onClick"])):(0,o.Q3)("",!0),(0,o.bF)(P,{onScroll:e.scrolling},null,8,["onScroll"])]})),_:1},512))]),(0,o.bF)(_,{ref:"slotsGame"},null,512)]})),_:1})}var y=t(7454),b=t.n(y),L=t(45254),A=t.n(L),S=t(38734),K=t(51087),P=t(60455),T=t(43710),_=t(72012),C=t(88122),R=t(70880),q=t(71372),w=t(24225),F=t(85401),I=(t(80875),t(15868));t(54760);const Q=(0,o.pM)({components:{GameModal:K.A,BacktoTop:w.A},setup:function(){(0,T.A)();var e=(0,P.lq)(),n=(0,I.Z)(),a=(0,q.m)(),l=(0,S.KR)(null),c=(0,S.KR)([]),i=(0,S.KR)(1),r=(0,S.KR)(""),s=(0,S.KR)(null),u=(0,S.Kh)({gameList:[],currentPage:1,pageSize:40,searchType:"",searchKey:"",total:0}),d=(0,S.KR)([]),f=(0,S.KR)(!1),g=(0,S.KR)({}),p=function(e){f.value=!0,E.value.setScrollPosition("vertical",0),m.value=e,s.value=e.id,k(),u.searchKey=""},m=(0,S.KR)(e.query.platform);(0,o.wB)((function(){return e.query}),A()(b()().mark((function e(){return b()().wrap((function(e){while(1)switch(e.prev=e.next){case 0:v();case 1:case"end":return e.stop()}}),e)}))));var v=function(){var t=n.hasToken()?"/session/loggedInPlatform":"/platform",o=n.hasToken()?"LOGGEDINPLATFORMS":"PLATFORMS";R.cached.get(o,(function(){return C.api.get(t).then((function(e){return e}))})).then((function(n){c.value=n.filter((function(e){return e.gameType.includes("SLOT")})),c.value.forEach((function(e,n){"AWS"===e.code&&c.value.splice(n,1)})),e.query.platform?c.value.forEach((function(n){e.query.platform===n.code&&p(n)})):p(c.value[0])}))["catch"]((function(e){f.value=!1}))},h=function(){u.searchKey?u.gameList=d.value.filter((function(e){return e.name.toLowerCase().includes(u.searchKey.toLowerCase())})):y(1,u.pageSize)},k=function(){var e=_.Ay.is.mobile?"MOBILE":"WEB",o=s.value,a="SLOT",l="PLATFORM_GAMES_".concat(o,"_").concat(a,"_").concat(e),c=n.getDeviceType();f.value=!0,R.cached.get(l,(function(){return C.api.get("/platformGames",{params:{platformId:o,gameType:a,device:e,way:c}}).then((function(e){if(0===e.code)return f.value=!1,e}))["catch"]((function(e){f.value=!1}))})).then((function(e){e.forEach((function(e){e["default"]=t(24842),e.icon="".concat("https://files.fbok59j8xi.com","/game/").concat(e.icon)})),d.value=e,f.value=!1,u.total=e.length,y(1,u.pageSize)}))},y=function(e,n){u.gameList=d.value},L=function(e,n){e=1,u.currentPage=1,y(e,n)},K=function(e,n,t){l.value.open(e,m.value.code,n,t)},w=(0,S.KR)(!1),Q=(F.Ay.getScrollTarget,F.Ay.getVerticalScrollPosition,F.Ay.setVerticalScrollPosition,(0,S.KR)(0)),G=function(e){Q.value=e.position,e.position.top>400&&(w.value=!0)},E=(0,S.KR)(),z=((0,S.KR)(0),function(e){E.value.setScrollPosition("vertical",0,100),w.value=!1}),B=function(e){};return(0,o.sV)((function(){v()})),{platforms:c,selectedCatId:i,selectedCat:r,gamePage:u,openGame:K,loadGameList:k,changePage:y,searchList:h,gameListData:d,onShowSizeChange:L,slotsGame:l,scrolling:G,isShowBtt:w,scrollSlotRef:E,scrollToTop:z,scroll:F.Ay,scrollPosition:Q,isLoading:f,scrollInfo:g,onIntersection:B,ui:a,onScroll:function(e){g.value=e.position.left/c.value.length+8},selectedPlat:m,selectedPlatId:s}}});var G=t(12807),E=t(33177),z=t(91349),B=t(21565),M=t(68926),O=t(24609),V=t(69001),X=t(19600),x=t(54514),W=t(65287),D=t(30340),j=t(51225),N=t(36328),U=t(98582),H=t.n(U);const Z=(0,G.A)(Q,[["render",k],["__scopeId","data-v-1658cfd8"]]),$=Z;H()(Q,"components",{QPage:E.A,QSpinnerHourglass:z.A,QForm:B.A,QInput:M.A,QIcon:O.A,QBtn:V.A,QScrollArea:X.A,QList:x.A,QImg:W.A,QScrollObserver:D.A,QField:j.A}),H()(Q,"directives",{Intersection:N.A})}}]);