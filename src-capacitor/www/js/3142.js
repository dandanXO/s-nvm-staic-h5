"use strict";(globalThis["webpackChunkvnm_static_h5"]=globalThis["webpackChunkvnm_static_h5"]||[]).push([[3142],{95526:(e,t,n)=>{n.r(t),n.d(t,{default:()=>Z});var o=n(61758),a=n(29104),l=n(58790),c=n(89504),i=n.n(c),r=function(e){return(0,o.Qi)("data-v-b20ee1e6"),e=e(),(0,o.jt)(),e},s={key:0,class:"loading-div"},u={class:"pageitem"},d={class:"topbar"},f={class:"search"},g=r((function(){return(0,o.Lk)("img",{src:i()},null,-1)})),p={class:"grid",style:{"padding-bottom":"20px"}},m=["data-id","onClick"],v=["src"],h={class:"slot-name"};function k(e,t,n,c,i,r){var k=(0,o.g2)("q-spinner-hourglass"),b=(0,o.g2)("q-btn"),y=(0,o.g2)("q-input"),L=(0,o.g2)("q-form"),S=(0,o.g2)("q-img"),A=(0,o.g2)("q-list"),K=(0,o.g2)("BacktoTop"),P=(0,o.g2)("q-scroll-observer"),_=(0,o.g2)("q-scroll-area"),C=(0,o.g2)("GameModal"),R=(0,o.g2)("q-page"),T=(0,o.gN)("intersection");return(0,o.uX)(),(0,o.Wv)(R,null,{default:(0,o.k6)((function(){return[e.isLoading?((0,o.uX)(),(0,o.CE)("div",s,[(0,o.bF)(k,{color:e.ui.themeColor,size:"8em"},null,8,["color"])])):(0,o.Q3)("",!0),(0,o.Lk)("div",u,[(0,o.Lk)("div",d,[(0,o.Lk)("div",f,[(0,o.bF)(L,{onSubmit:e.searchList},{default:(0,o.k6)((function(){return[(0,o.bF)(y,{class:"search-input","bg-color":"white",filled:"",standout:"",modelValue:e.gamePage.searchKey,"onUpdate:modelValue":[t[0]||(t[0]=function(t){return e.gamePage.searchKey=t}),e.searchList],label:e.$t("lang.slot_search")},{append:(0,o.k6)((function(){return[(0,o.bF)(b,{class:"search-btn",type:"submit",push:"",size:"md",round:""},{default:(0,o.k6)((function(){return[g]})),_:1})]})),_:1},8,["modelValue","label","onUpdate:modelValue"])]})),_:1},8,["onSubmit"])])]),e.isLoading?(0,o.Q3)("",!0):((0,o.uX)(),(0,o.Wv)(_,{key:0,ref:"scrollSlotRef",style:{height:"calc(100% - 110px)"}},{default:(0,o.k6)((function(){return[(0,o.Lk)("div",p,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(e.gamePage.gameList,(function(t,n){return(0,o.bo)(((0,o.uX)(),(0,o.CE)("div",{class:"grid-item",key:n,"data-id":n,onClick:function(n){return e.openGame(t.name,t.code,e.selectedCat.status)}},[(0,o.bF)(a.eB,{name:"in-view"},{default:(0,o.k6)((function(){return[(0,o.bF)(A,{class:"q-col-gutter-none"},{default:(0,o.k6)((function(){return[(0,o.bF)(S,{loading:"lazy",src:t.icon,"placeholder-src":t["default"],fit:"cover","spinner-color":"white",position:"50% 20%",style:{"border-radius":"10px",overflow:"hidden"},imgClass:"PG"===e.selectedCat.code?"zoomin":""},{loading:(0,o.k6)((function(){return[(0,o.Lk)("img",{src:t["default"],style:{}},null,8,v)]})),_:2},1032,["src","placeholder-src","imgClass"]),(0,o.Lk)("div",h,(0,l.v_)(t.name),1)]})),_:2},1024)]})),_:2},1024)],8,m)),[[T,e.onIntersection]])})),128))]),e.scrollPosition.top>400?((0,o.uX)(),(0,o.Wv)(K,{key:0,onClick:e.scrollToTop},null,8,["onClick"])):(0,o.Q3)("",!0),(0,o.bF)(P,{onScroll:e.scrolling},null,8,["onScroll"])]})),_:1},512))]),(0,o.bF)(C,{ref:"slotsGame"},null,512)]})),_:1})}var b=n(7454),y=n.n(b),L=n(45254),S=n.n(L),A=n(38734),K=n(51087),P=n(60455),_=n(43710),C=n(72012),R=n(88122),T=n(70880),F=n(71372),I=n(24225),q=n(85401),w=(n(80875),n(15868));n(54760);const Q=(0,o.pM)({components:{GameModal:K.A,BacktoTop:I.A},setup:function(){(0,_.A)();var e=(0,P.lq)(),t=(0,w.Z)(),a=(0,F.m)(),l=(0,A.KR)(null),c=(0,A.KR)([]),i=(0,A.KR)(1),r=(0,A.KR)(""),s=(0,A.KR)(null),u=(0,A.Kh)({gameList:[],currentPage:1,pageSize:40,searchType:"",searchKey:"",total:0}),d=(0,A.KR)([]),f=(0,A.KR)(!1),g=(0,A.KR)({}),p=function(e){f.value=!0,E.value.setScrollPosition("vertical",0),m.value=e,s.value=e.id,k(),u.searchKey=""},m=(0,A.KR)(e.query.platform);(0,o.wB)((function(){return e.query}),S()(y()().mark((function e(){return y()().wrap((function(e){while(1)switch(e.prev=e.next){case 0:v();case 1:case"end":return e.stop()}}),e)}))));var v=function(){var n=t.hasToken()?"/session/loggedInPlatform":"/platform",o=t.hasToken()?"LOGGEDINPLATFORMS":"PLATFORMS";T.cached.get(o,(function(){return R.api.get(n).then((function(e){return e}))})).then((function(t){c.value=t.filter((function(e){return e.gameType.includes("FISH")})),c.value.forEach((function(e,t){"AWS"===e.code&&c.value.splice(t,1)})),e.query.platform?c.value.forEach((function(t){e.query.platform===t.code&&p(t)})):p(c.value[0])}))["catch"]((function(e){f.value=!1}))},h=function(){u.searchKey?u.gameList=d.value.filter((function(e){return e.name.toLowerCase().includes(u.searchKey.toLowerCase())})):b(1,u.pageSize)},k=function(){var e=C.Ay.is.mobile?"MOBILE":"WEB",o=s.value,a="FISH",l="PLATFORM_GAMES_".concat(o,"_").concat(a,"_").concat(e),c=t.getDeviceType();f.value=!0,T.cached.get(l,(function(){return R.api.get("/platformGames",{params:{platformId:o,gameType:a,device:e,way:c}}).then((function(e){if(0===e.code)return f.value=!1,e}))["catch"]((function(e){f.value=!1}))})).then((function(e){e.forEach((function(e){e["default"]=n(24842),e.icon="".concat("https://files.fbok59j8xi.com","/game/").concat(e.icon)})),d.value=e,f.value=!1,u.total=e.length,b(1,u.pageSize)}))},b=function(e,t){u.gameList=d.value},L=function(e,t){e=1,u.currentPage=1,b(e,t)},K=function(e,t,n){l.value.open(e,m.value.code,t,n)},I=(0,A.KR)(!1),Q=(q.Ay.getScrollTarget,q.Ay.getVerticalScrollPosition,q.Ay.setVerticalScrollPosition,(0,A.KR)(0)),G=function(e){Q.value=e.position,e.position.top>400&&(I.value=!0)},E=(0,A.KR)(),z=(0,A.KR)(0),B=function(e){E.value.setScrollPosition("vertical",z),I.value=!1},M=function(e){};return(0,o.sV)((function(){v()})),{platforms:c,selectedCatId:i,selectedCat:r,gamePage:u,openGame:K,loadGameList:k,changePage:b,searchList:h,gameListData:d,onShowSizeChange:L,slotsGame:l,scrolling:G,isShowBtt:I,scrollSlotRef:E,scrollToTop:B,scroll:q.Ay,scrollPosition:Q,isLoading:f,scrollInfo:g,onIntersection:M,ui:a,onScroll:function(e){g.value=e.position.left/c.value.length+8},selectedPlat:m,selectedPlatId:s}}});var G=n(12807),E=n(33177),z=n(91349),B=n(21565),M=n(68926),V=n(69001),O=n(19600),X=n(54514),x=n(65287),W=n(30340),D=n(51225),H=n(36328),j=n(98582),N=n.n(j);const U=(0,G.A)(Q,[["render",k],["__scopeId","data-v-b20ee1e6"]]),Z=U;N()(Q,"components",{QPage:E.A,QSpinnerHourglass:z.A,QForm:B.A,QInput:M.A,QBtn:V.A,QScrollArea:O.A,QList:X.A,QImg:x.A,QScrollObserver:W.A,QField:D.A}),N()(Q,"directives",{Intersection:H.A})}}]);