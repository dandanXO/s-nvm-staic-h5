"use strict";(globalThis["webpackChunkvnm_static_h5"]=globalThis["webpackChunkvnm_static_h5"]||[]).push([[4778],{49206:(e,a,l)=>{l.r(a),l.d(a,{default:()=>_});var n=l(61758),t={class:"table-record"};function o(e,a,l,o,r,d){var s=(0,n.g2)("RecordComponent");return(0,n.uX)(),(0,n.CE)("div",t,[(0,n.bF)(s,{recordType:"moneyChange",loading:e.visible,list:e.tableData,headers:e.tableHeaders,onLoadnewdata:e.loadNewData,isEnded:e.isEnded},null,8,["loading","list","headers","onLoadnewdata","isEnded"])])}var r=l(8445),d=l.n(r),s=(l(10239),l(38734)),u=l(41900),i=l(85038),c=l.n(i),v=l(88122),g=(l(15868),l(70880)),p=l(23537);const b=(0,n.pM)({components:{RecordComponent:u.A},setup:function(){var e=(0,p.s9)(),a=e.t,l=(0,s.KR)(!0),t=(0,s.KR)([]),o=(0,s.KR)(!1),r="/session/member/moneyChange",u=c()().format("YYYY-MM-DD"),i=c()().add(-7,"days").format("YYYY-MM-DD"),b=(0,s.KR)(1),m=(0,s.KR)(0),f=(0,s.KR)(""),Y=function(){if(m.value>b.value)b.value++;else if(b.value=1,u=c()(i).add(-1,"days").format("YYYY-MM-DD"),i=c()(u).add(-7,"days").format("YYYY-MM-DD"),u<=c()().add(-29,"days").format("YYYY-MM-DD"))return void(o.value=!0);y(!1)},y=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];e&&(l.value=!0),console.log(i),console.log(u);var a={startDate:i,endDate:u,size:10,current:b.value};f.value&&1!==b.value&&(a["pagingState"]=f.value);var n=r+"_"+i+"_"+u+"_"+b.value;console.log(n),g.cached.get(n,(function(){return v.api.get(r,{params:a})}),{expired_value:30}).then((function(a){var n;if(console.log(a),0===a.records.length)return b.value=m.value,void(e&&(l.value=!1));m.value=a.pages,f.value=a.pagingState,e&&(l.value=!1),(n=t.value).push.apply(n,d()(a.records))}))["catch"]((function(a){e&&(l.value=!1)}))},h=[{key:"serialNumber",label:a("lang.col_serialnumber")},{key:"type",label:a("lang.col_turnovertype")},{key:"platformCode",label:a("lang.col_turnplatform")},{key:"amount",label:a("lang.col_amount")},{key:"subType",label:a("lang.col_subtype")},{key:"recordTime",label:a("lang.col_datetime")}];return(0,n.sV)((function(){b.value=1,y()})),{tableData:t,tableHeaders:h,visible:l,loadNewData:Y,isEnded:o}}});var m=l(12807),f=l(97569),Y=l(69001),y=l(98582),h=l.n(y);const D=(0,m.A)(b,[["render",o],["__scopeId","data-v-6bd2bf12"]]),_=D;h()(b,"components",{QCard:f.A,QBtn:Y.A})}}]);