"use strict";(globalThis["webpackChunkvnm_static_h5"]=globalThis["webpackChunkvnm_static_h5"]||[]).push([[5342],{10120:(e,n,o)=>{o.r(n),o.d(n,{default:()=>Ee});o(10239);var t=o(61758),a=o(58790),r=o(29104),l=o(92166),i=o.n(l),c=o(2206),u=o.n(c),s=o(7129),d=o.n(s),g=o(25817),p=o.n(g),m=o(31883),f=o.n(m),h=o(50378),b=o.n(h),v=function(e){return(0,t.Qi)("data-v-0df4c984"),e=e(),(0,t.jt)(),e},k={class:"login-container"},_={class:"home-header"},C={class:"back-left"},w=v((function(){return(0,t.Lk)("img",{class:"left-back",src:i()},null,-1)})),F=v((function(){return(0,t.Lk)("img",{alt:"logo",src:u()},null,-1)})),L=[F],R={class:"header-lang"},y={class:"login-img"},V=v((function(){return(0,t.Lk)("img",{src:d()},null,-1)})),I={class:"login-text"},$={class:"text-title"},A={class:"text-desc"},x={class:"login-form-container"},q={key:0,class:""},N=v((function(){return(0,t.Lk)("em",null,"*",-1)})),K=v((function(){return(0,t.Lk)("img",{src:p(),width:"24"},null,-1)})),E=v((function(){return(0,t.Lk)("em",null,"*",-1)})),Q=v((function(){return(0,t.Lk)("img",{src:f(),width:"24"},null,-1)})),S=v((function(){return(0,t.Lk)("em",null,"*",-1)})),T=["src"],P=v((function(){return(0,t.Lk)("img",{src:b(),width:"24"},null,-1)})),O={key:1},U=v((function(){return(0,t.Lk)("em",null,"*",-1)})),W=v((function(){return(0,t.Lk)("em",null,"*",-1)})),D={class:"row items-center justify-between q-mt-xs"},z={class:"text-center"},X={class:"bottom-btn-list"},j={class:"text-center q-pb-lg"},J={class:"q-px-lg q-pt-sm q-pb-lg"},Z=["src","title"];function B(e,n,o,l,i,c){var u=(0,t.g2)("router-link"),s=(0,t.g2)("LangOptions"),d=(0,t.g2)("q-label"),g=(0,t.g2)("q-input"),p=(0,t.g2)("q-icon"),m=(0,t.g2)("q-btn"),f=(0,t.g2)("q-checkbox"),h=(0,t.g2)("q-form"),b=(0,t.g2)("q-toolbar-title"),v=(0,t.g2)("q-toolbar"),F=(0,t.g2)("q-card-section"),B=(0,t.g2)("q-card"),H=(0,t.g2)("q-dialog"),M=(0,t.gN)("close-popup");return(0,t.uX)(),(0,t.CE)(t.FK,null,[(0,t.Lk)("div",k,[(0,t.Lk)("div",_,[(0,t.Lk)("div",C,[(0,t.bF)(u,{to:"/"},{default:(0,t.k6)((function(){return[w]})),_:1})]),(0,t.Lk)("div",{class:"header-left",onClick:n[0]||(n[0]=function(n){return e.router.push("/")})},L),(0,t.Lk)("div",R,[(0,t.bF)(s)])]),(0,t.Lk)("div",y,[V,(0,t.Lk)("div",I,[(0,t.Lk)("div",$,(0,a.v_)(e.$t("lang.login_title")),1),(0,t.Lk)("div",A,(0,a.v_)(e.$t("lang.login_desc")),1)])]),(0,t.bF)(h,{ref:"loginFormRef",onSubmit:e.onSubmit},{default:(0,t.k6)((function(){return[(0,t.Lk)("div",x,[e.loginType?(0,t.Q3)("",!0):((0,t.uX)(),(0,t.CE)("div",q,[(0,t.bF)(d,null,{default:(0,t.k6)((function(){return[(0,t.eW)((0,a.v_)(e.$t("lang.username"))+" ",1),N]})),_:1}),(0,t.bF)(g,{rounded:"",standout:"",clearable:"",ref:"loginNameRef",modelValue:e.loginForm.loginName,"onUpdate:modelValue":n[1]||(n[1]=function(n){return e.loginForm.loginName=n}),placeholder:e.$t("lang.username"),rules:[function(n){return n&&n.length>0||e.$t("lang.please_enter_username")},function(n){return n&&n.length>=6&&n.length<=12||e.$t("lang.length_between_6_12")}],color:"white","label-color":"secondary",autocomplete:"username"},{prepend:(0,t.k6)((function(){return[K]})),_:1},8,["modelValue","placeholder","rules"]),(0,t.bF)(d,null,{default:(0,t.k6)((function(){return[(0,t.eW)((0,a.v_)(e.$t("lang.password"))+" ",1),E]})),_:1}),(0,t.bF)(g,{ref:"passwordRef",rounded:"",standout:"",clearable:"",modelValue:e.loginForm.password,"onUpdate:modelValue":n[3]||(n[3]=function(n){return e.loginForm.password=n}),placeholder:e.$t("lang.password"),type:e.isPwd?"password":"text",rules:[function(n){return n&&n.length>0||e.$t("lang.please_type_the_password")}],color:"white","label-color":"brand",autocomplete:"current-password"},{prepend:(0,t.k6)((function(){return[Q]})),append:(0,t.k6)((function(){return[(0,t.bF)(p,{color:"dark",name:e.isPwd?"visibility_off":"visibility",class:"cursor-pointer",onClick:n[2]||(n[2]=function(n){return e.isPwd=!e.isPwd})},null,8,["name"])]})),_:1},8,["modelValue","placeholder","type","rules"]),(0,t.bF)(d,null,{default:(0,t.k6)((function(){return[(0,t.eW)((0,a.v_)(e.$t("lang.verification_code"))+" ",1),S]})),_:1}),(0,t.bF)(g,{ref:"verificationRef",rounded:"",standout:"",clearable:"",type:"text",maxlength:"4",modelValue:e.loginForm.captchaCode,"onUpdate:modelValue":n[5]||(n[5]=function(n){return e.loginForm.captchaCode=n}),placeholder:e.$t("lang.verification_code"),rules:[function(n){return n&&n.length>0||e.$t("lang.please_enter_verification_code")},function(n){return n&&n.length>3&&n.length<5||e.$t("lang.length_is_4")}],color:"white","label-color":"brand"},{append:(0,t.k6)((function(){return[(0,t.Lk)("img",{class:"veri-img",src:e.verificationImg,onClick:n[4]||(n[4]=function(){return e.getCode&&e.getCode.apply(e,arguments)})},null,8,T)]})),prepend:(0,t.k6)((function(){return[P]})),_:1},8,["modelValue","placeholder","rules"])])),e.loginType?((0,t.uX)(),(0,t.CE)("div",O,[(0,t.bF)(d,null,{default:(0,t.k6)((function(){return[(0,t.eW)((0,a.v_)(e.$t("lang.phone_number"))+" ",1),U]})),_:1}),(0,t.bF)(g,{ref:"telephoneRef",modelValue:e.phoneLoginForm.phoneNumber,"onUpdate:modelValue":n[6]||(n[6]=function(n){return e.phoneLoginForm.phoneNumber=n}),placeholder:e.$t("lang.phone_number"),rules:[function(n){return n&&n.length>0||e.$t("lang.please_enter_phone_number")}],color:"white",readonly:!!e.phoneLoginForm.smsCodeId,clearable:"",autocomplete:"username",rounded:"",type:"number",standout:""},{prepend:(0,t.k6)((function(){return[(0,t.bF)(p,{color:"bright",name:"phone"})]})),_:1},8,["modelValue","placeholder","rules","readonly"]),(0,t.bF)(d,null,{default:(0,t.k6)((function(){return[(0,t.eW)((0,a.v_)(e.$t("lang.verification_code"))+" ",1),W]})),_:1}),(0,t.bF)(g,{onPressEnter:n[7]||(n[7]=function(n){return e.alert("ah")}),ref:"phoneVerificationRef",type:"text",modelValue:e.phoneLoginForm.code,"onUpdate:modelValue":n[8]||(n[8]=function(n){return e.phoneLoginForm.code=n}),placeholder:e.$t("lang.verification_code"),clearable:"",rules:[function(n){return n&&n.length>3||e.$t("lang.verification_code_empty")}],color:"white",rounded:"",standout:""},{append:(0,t.k6)((function(){return[(0,t.bF)(m,{size:"md",color:"brightbtn",label:e.$t("lang.verification_code_send"),onClick:e.toggleInnerCode,style:{"white-space":"nowrap"}},null,8,["label","onClick"])]})),prepend:(0,t.k6)((function(){return[(0,t.bF)(p,{color:"bright",name:"security"})]})),_:1},8,["modelValue","placeholder","rules"])])):(0,t.Q3)("",!0),(0,t.Lk)("div",D,[(0,t.Lk)("div",{class:(0,a.C4)(e.isCheckRmb?"checked":"")},[(0,t.bF)(f,{rounded:"",modelValue:e.isCheckRmb,"onUpdate:modelValue":n[9]||(n[9]=function(n){return e.isCheckRmb=n}),label:e.$t("lang.remember_me"),size:"xs","checked-icon":"task_alt","unchecked-icon":"highlight_off",color:"light-blue-4"},null,8,["modelValue","label"])],2),(0,t.Lk)("div",z,[(0,t.bF)(u,{class:"forget-pwd-tip",to:"/forgot-password"},{default:(0,t.k6)((function(){return[(0,t.eW)((0,a.v_)(e.$t("lang.forgot_password")),1)]})),_:1})])])]),(0,t.Lk)("div",X,[(0,t.bF)(m,{onClick:(0,r.D$)(e.onSubmit,["prevent"]),type:"submit",class:"common-large-btn bottom-btn",label:e.$t("lang.login_btn"),color:"brightbtn","no-caps":"",rounded:""},null,8,["onClick","label"]),(0,t.bF)(u,{to:"/register"},{default:(0,t.k6)((function(){return[(0,t.bF)(m,{class:"common-large-white-btn bottom-btn",label:e.$t("lang.register_btn"),"no-caps":"",rounded:""},null,8,["label"])]})),_:1})]),(0,t.Lk)("div",j,[(0,t.bF)(u,{class:"cs-web-id",id:"cs-web-id",to:"/liveChat"},{default:(0,t.k6)((function(){return[(0,t.eW)((0,a.v_)(e.$t("lang.contact_customer_service")),1)]})),_:1})])]})),_:1},8,["onSubmit"])]),(0,t.bF)(H,{modelValue:e.showCaptchaDialog,"onUpdate:modelValue":n[12]||(n[12]=function(n){return e.showCaptchaDialog=n}),width:"100%","no-backdrop-dismiss":""},{default:(0,t.k6)((function(){return[(0,t.bF)(B,{width:"100%"},{default:(0,t.k6)((function(){return[(0,t.bF)(F,{class:"q-pa-md bg-brightbtn text-white"},{default:(0,t.k6)((function(){return[(0,t.bF)(v,null,{default:(0,t.k6)((function(){return[(0,t.bF)(b,null,{default:(0,t.k6)((function(){return[(0,t.eW)((0,a.v_)(e.$t("lang.captcha_code")),1)]})),_:1}),(0,t.bo)((0,t.bF)(m,{flat:"",round:"",dense:"",icon:"close"},null,512),[[M]])]})),_:1})]})),_:1}),(0,t.Lk)("div",J,[(0,t.bF)(F,{class:"q-mb-md q-pa-md"},{default:(0,t.k6)((function(){return[(0,t.bF)(g,{modelValue:e.innerCaptchaRef,"onUpdate:modelValue":n[11]||(n[11]=function(n){return e.innerCaptchaRef=n}),placeholder:e.$t("lang.enter_captcha_code")},{append:(0,t.k6)((function(){return[(0,t.Lk)("img",{src:e.phoneVerificationImg,title:e.$t("lang.captcha_refresh"),style:{"margin-top":"6px",cursor:"pointer"},onClick:n[10]||(n[10]=function(){return e.getInnerCode&&e.getInnerCode.apply(e,arguments)})},null,8,Z)]})),_:1},8,["modelValue","placeholder"])]})),_:1}),(0,t.bF)(m,{onClick:e.sendOtpSms,"no-caps":"",label:e.$t("lang.verification_code_send"),color:"brightbtn"},null,8,["onClick","label"])])]})),_:1})]})),_:1},8,["modelValue"])],64)}var H=o(7454),M=o.n(H),G=o(57008),Y=o.n(G),ee=o(45254),ne=o.n(ee),oe=(o(67396),o(50923),o(59502),o(38734)),te=o(15868),ae=o(88122),re=o(43710),le=o(72012),ie=o(60455),ce=o(7397),ue=o(71244),se=o(54760),de=o.n(se),ge=o(23537),pe=o(2473);const me=(0,t.pM)({name:"LoginPage",components:{LangOptions:ue.A},setup:function(){var e=(0,ge.s9)(),n=e.t,o=(0,oe.KR)("login"),a=(0,oe.KR)(!1),r=(0,te.Z)(),l=(0,oe.KR)(""),i=(0,oe.Kh)({loginName:"",password:"",captchaCode:"",codeId:""}),c=(0,oe.Kh)({phoneNumber:"",code:"",smsCodeId:""}),u=(0,re.A)(),s=(0,oe.KR)(),d=(0,oe.KR)(),g=(0,oe.KR)(),p=(0,oe.KR)(),m=(0,ie.rd)(),f=(0,ie.lq)(),h=function(){ae.api.get("/member/verificationCode").then((function(e){0===e.code&&(l.value="data:image/png;base64,"+e.data.img,i.codeId=e.data.id)}))["catch"]((function(e){u.notify({color:"negative",position:"top",message:e.message,icon:"report_problem"})}))},b=(0,oe.KR)(!1),v=(0,oe.KR)(),k=(0,oe.KR)(),_=(0,oe.KR)(""),C=(0,oe.KR)(""),w=(0,oe.KR)(""),F=(0,oe.KR)(!1),L=function(){k.value.validate(),k.value.hasError||(F.value=!0,y())},R=function(){var e=/^(13[0-9]|14[01456879]|15[0-35-9]|16[2567]|17[0-8]|18[0-9]|19[0-35-9])\d{8}$/;return e.test(c.phoneNumber)||"请输入有效的电话号码"},y=function(){ae.api.get("/member/verificationCode").then((function(e){0===e.code&&(_.value="data:image/png;base64,"+e.data.img,w.value=e.data.id,C.value="")}))["catch"]((function(e){console.log(e)}))},V=function(){c.phoneNumber?ae.api.post("/otp/sendSms",de().stringify({telephone:c.phoneNumber,captchaCode:C.value,codeId:w.value})).then((function(e){h();var n=e.message||"发送手机验证码成功",o="positive";0===e.code?(F.value=!1,c.smsCodeId=e.data.codeId,c.code=""):(o="negative",y()),n&&u.notify({message:n,color:o})}))["catch"]((function(){console.log("Err"),y()})):u.notify({color:"negative",position:"top",message:"手机号码不能为空",icon:"report_problem"})},I=function(){m.push("/register")},$=function(){var e=ce.Ay.load();ne()(M()().mark((function o(){var t,l,_,C,w,F;return M()().wrap((function(o){while(1)switch(o.prev=o.next){case 0:return o.next=2,e;case 2:return t=o.sent,o.next=5,t.get();case 5:if(l=o.sent,_={value:["timezone","timeZoneOffset"]},C=Y()({},l.components),_.value.forEach((function(e){delete C[e]})),w=ce.Ay.hashComponents(C),F=q.value,!1!==a.value){o.next=19;break}d.value.validate(),g.value.validate(),p.value.validate(),u.loading.show({message:n("lang.logging_in")}),d.value.hasError||g.value.hasError||p.value.hasError?u.loading.hide():r.memberLogin(Y()({loginName:i.loginName,password:i.password,sid:w,captchaCode:i.captchaCode,codeId:i.codeId},le.Ay.is.android&&le.Ay.is.capacitor?{appVersion:F}:{})).then((function(){if(u.loading.hide(),sessionStorage.removeItem("REFERRAL_CODE"),b.value?localStorage.setItem("userpass",JSON.stringify({loginName:i.loginName,password:i.password})):localStorage.removeItem("userpass"),s.value.reset(),r.hasToken()){var e=f.query.redirect?f.query.redirect:"/";m.go(e)}}))["catch"]((function(e){i.captchaCode="",h(),u.loading.hide()})),o.next=30;break;case 19:if(k.value.validate(),v.value.validate(),!k.value.hasError&&!v.value.hasError){o.next=25;break}u.loading.hide(),o.next=30;break;case 25:if(c.smsCodeId){o.next=28;break}return u.notify({color:"negative",position:"top",message:n("lang.personal_mobilenumber_verify"),icon:"report_problem"}),o.abrupt("return");case 28:u.loading.show({message:n("lang.logging_in")}),r.memberLoginviaPhone({phoneNumber:c.phoneNumber,sid:w,code:c.code,smsCodeId:c.smsCodeId}).then((function(){if(u.loading.hide(),sessionStorage.removeItem("REFERRAL_CODE"),s.value.reset(),r.hasToken()){var e=f.query.redirect?f.query.redirect:"/";m.go(e)}}))["catch"]((function(e){u.loading.hide()}));case 30:case"end":return o.stop()}}),o)})))()},A=function(){var e=localStorage.getItem("userpass"),n=JSON.parse(e);n&&(b.value=!0,i.loginName=n.loginName,i.password=n.password)},x=function(){m.push("/")},q=(0,oe.KR)(""),N=function(){var e=ne()(M()().mark((function e(){var n;return M()().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!le.Ay.is.android||!le.Ay.is.capacitor){e.next=5;break}return e.next=3,pe.q.getInfo();case 3:n=e.sent,q.value=n.version+"."+n.build;case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,t.sV)((function(){var e=new URLSearchParams(window.location.search);e.has("register")&&(o.value="register"),A(),N()})),(0,t.n)((function(){h()})),{header:"Login",loginNameRef:d,passwordRef:g,verificationRef:p,verificationImg:l,loginForm:i,loginFormRef:s,onSubmit:$,goRegister:I,store:r,isPwd:(0,oe.KR)(!0),tab:o,loginType:a,backHome:x,isCheckRmb:b,getCode:h,phoneLoginForm:c,sendOtpSms:V,innerCaptchaRef:C,innerCaptchaCodeId:w,showCaptchaDialog:F,toggleInnerCode:L,phoneVerificationRef:v,phoneVerificationImg:_,getInnerCode:y,isValidCnPhone:R,telephoneRef:k,LangOptions:ue.A,appVersionNo:q,getVersionNo:N}}});var fe=o(12807),he=o(64873),be=o(47706),ve=o(21565),ke=o(68926),_e=o(24609),Ce=o(69001),we=o(12225),Fe=o(57201),Le=o(97569),Re=o(27066),ye=o(79351),Ve=o(56769),Ie=o(64082),$e=o(51225),Ae=o(833),xe=o(79197),qe=o(98582),Ne=o.n(qe);const Ke=(0,fe.A)(me,[["render",B],["__scopeId","data-v-0df4c984"]]),Ee=Ke;Ne()(me,"components",{QTabs:he.A,QTab:be.A,QForm:ve.A,QInput:ke.A,QIcon:_e.A,QBtn:Ce.A,QCheckbox:we.A,QDialog:Fe.A,QCard:Le.A,QCardSection:Re.A,QToolbar:ye.A,QToolbarTitle:Ve.A,QTabPanels:Ie.A,QField:$e.A,QSelect:Ae.A}),Ne()(me,"directives",{ClosePopup:xe.A})}}]);